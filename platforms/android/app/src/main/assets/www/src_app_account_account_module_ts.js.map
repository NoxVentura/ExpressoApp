{"version":3,"file":"src_app_account_account_module_ts.js","mappings":"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","sources":["./src/app/account/account-routing.module.ts","./src/app/account/account.module.ts","./src/app/account/account.page.ts","./src/app/account/account.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AccountPage } from './account.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AccountPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AccountPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AccountPageRoutingModule } from './account-routing.module';\n\nimport { AccountPage } from './account.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AccountPageRoutingModule\n  ],\n  declarations: [AccountPage]\n})\nexport class AccountPageModule {}\n","import { Component, NgModule } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport { Router } from '@angular/router';\nimport { AlertController, NavController, ToastController } from '@ionic/angular';\nimport { UserService } from '../user.service';\nimport { getAuth, onAuthStateChanged, deleteUser, updateCurrentUser } from \"firebase/auth\";\n\n@Component({\n  selector: 'app-account',\n  templateUrl: 'account.page.html',\n  styleUrls: ['account.page.scss'],\n})\n\nexport class AccountPage {\n  email: string;\n  Uid: any;\n  user: any;\n  \n\n  constructor(\n    private userService: UserService,\n    private navCtrl: NavController,\n    private angularFireAuth: AngularFireAuth,\n    private router: Router,\n    private alertCtrl: AlertController,\n    private toaster: ToastController,) {\n\n  }\n\n  ngOnInit() {\n    const auth = getAuth()\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        this.Uid = user.uid\n        const useremail = user.email\n        console.log(this.Uid, useremail)\n        this.toast('welcome ' + useremail, 'success')\n        \n      }\n    })\n    this.userService.userDetails().subscribe(res => {\n      if (res !== null) {\n        this.email = res.email;\n      } else {\n        this.navCtrl.navigateBack('');\n      }\n    }, err => {\n\n    })\n  }\n\n  logout() {\n    this.angularFireAuth.signOut().then(() => {\n      this.router.navigate(['/login'])\n    })\n  }\n\n  async toast(message, status)\n  {\n    const toast = await this.toaster.create({\n      message:message, \n      position: 'top',\n      color:status,\n      duration:2000\n    });\n\n    toast.present();\n  }\n\n  \n  async delete(): Promise<void> {\n    const alert = await this.alertCtrl.create({\n      message: 'Are your sure you want to delete this account?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: yes => {\n            console.log('Confirm Cancel: yes');\n          },\n        },\n        {\n          text: 'Delete',\n          handler: async () => {\n            (await this.angularFireAuth.currentUser).delete()\n            this.userService.delete(this.Uid)\n          },\n        },\n      ],\n    });\n    await alert.present()\n  }\n  \n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>account</ion-title>\\n\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card-content>\\n    <ion-button expand=\\\"block\\\" shape=\\\"round\\\" color=\\\"primary\\\" class=\\\"logoutBtn\\\" (click)=\\\"logout()\\\">Log Out</ion-button>\\n    <ion-button expand=\\\"block\\\" shape=\\\"round\\\" color=\\\"primary\\\" class=\\\"deleteAccBtn\\\" (click)=\\\"delete()\\\">Delete Account\\n    </ion-button>\\n  </ion-card-content>\\n\\n</ion-content>\\n<ion-toolbar>\\n  <ion-tabs>\\n    <ion-tab-bar slot=\\\"bottom\\\">\\n      <ion-tab-button [routerLink]=\\\"['/home']\\\">\\n        <ion-icon name=\\\"home\\\"></ion-icon>\\n        <ion-label>Home</ion-label>\\n      </ion-tab-button>\\n      <ion-tab-button [routerLink]=\\\"['/account']\\\">\\n        <ion-icon name=\\\"person\\\"></ion-icon>\\n        <ion-label>Account</ion-label>\\n      </ion-tab-button>\\n    </ion-tab-bar>\\n  </ion-tabs>\\n</ion-toolbar>\";"],"names":[],"sourceRoot":"webpack:///"}