{"version":3,"file":"src_app_login_login_module_ts.js","mappings":"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","sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts","./src/app/login/login.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { LoadingController, ToastController } from '@ionic/angular';\nimport { UserService } from '../user.service';\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\n\n\ndeclare var showUserLogin;\ndeclare var showStaffLogin; \ndeclare var showVendorLogin;\n\ninterface userObject{\n  id:any;\n  name:string;\n  email:string;\n  password:string;\n}\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\n\n\nexport class LoginPage implements OnInit {\n\n  id:any;\n  name:string;\n  email:string;\n  password:string;\n  userarray : [any]\n  \n\n  constructor(\n    private loadingCtrl: LoadingController, \n    private toaster: ToastController,\n    private angularFireAuth: AngularFireAuth, \n    private user: UserService, \n    private firestore: AngularFirestore\n  ) {}\n\n  async loginUser(){\n\n    if(this.email && this.password){\n      const loading = await this.loadingCtrl.create({\n        message: \"logging in...\",\n        spinner: \"crescent\",\n        showBackdrop: true\n      });\n\n      loading.present();\n\n      this.user.login(this.email, this.password).then(() =>{\n        loading.dismiss();\n        \n        //get all user\n        const ref = this.firestore.collection('users').snapshotChanges().forEach(user=>{\n               return user.map(a=>{\n                const userdata =a.payload.doc.data()\n                const id=a.payload.doc.id\n                 })\n               }\n             ) \n      })\n      .catch ((error)=> {\n        loading.dismiss();\n        this.toast(error.message,'danger');\n      });\n      }else{\n        this.toast('Please enter your email and password!', 'danger')\n      }\n    \n  }\n\n  async toast(message, status)\n  {\n    const toast = await this.toaster.create({\n      message:message, \n      position: 'top',\n      color:status,\n      duration:2000\n    });\n\n    toast.present();\n  }\n\n  ngOnInit() {\n  }\n\n  CallshowUserLogin(){\n    showUserLogin();\n  }\n  CallshowStaffLogin(){\n    showStaffLogin();\n  }\n  CallshowVendorLogin(){\n    showVendorLogin();\n  }\n}\n","export default \"<head>\\n  <link rel=\\\"stylesheet\\\" href=\\\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\\\">\\n  <script src=\\\"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js\\\"></script>\\n  <script src=\\\"https://cdnjs.cloudfare.com/ajax/libs/popper.js/1.16.0/umd.popper.min.js\\\"></script>\\n  <script src=\\\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js\\\"></script>\\n  <style type=\\\"text/css\\\">\\n      #staffLogin{display: none;}\\n      #vendorLogin{display: none;}\\n  </style>\\n  <!-- <script type=\\\"text/javascript\\\" src=\\\"/assets/js/externalfunctions.js\\\">\\n      function showUserLogin() {\\n          document.getElementById('userLogin').style.display=\\\"none\\\";\\n          document.getElementById('staffLogin').style.display=\\\"block\\\";\\n\\n      }\\n      function showStaffLogin() {\\n          document.getElementById('userLogin').style.display=\\\"block\\\";\\n          document.getElementById('staffLogin').style.display=\\\"none\\\";\\n      }\\n  </script> -->\\n</head>\\n<ion-content>\\n  <style>\\n     \\n\\n  </style>\\n<ion-card>\\n    <ion-card-header>\\n      <div class=\\\"container\\\">\\n          <img src=\\\"./assets/icon/favicon.png\\\" class=\\\"logoicon\\\"/>\\n          <p class=\\\"title\\\">Espresso</p>\\n      </div>\\n      <button class=\\\"btn btn-primary\\\" (click)=\\\"CallshowUserLogin()\\\">User</button>\\n      <button class=\\\"btn btn-primary\\\" (click)=\\\"CallshowStaffLogin()\\\">Staff</button>\\n      <button class=\\\"btn btn-primary\\\" (click)=\\\"CallshowVendorLogin()\\\">Vendor</button>\\n     \\n      \\n    </ion-card-header>\\n    <ion-card-content class=\\\"ion-padding\\\" text-align=\\\"ion-text-center\\\" id=\\\"userLogin\\\">\\n        <ion-list>\\n            <ion-item>\\n                <ion-label position=\\\"floating\\\">Email</ion-label>\\n                <ion-input [(ngModel)]=\\\"email\\\" type=\\\"text\\\" class=\\\"regEmail\\\" placeholder=\\\"Please key in your email\\\"></ion-input>\\n            </ion-item>\\n            <ion-item>\\n                <ion-label position=\\\"floating\\\">Password</ion-label>\\n                <ion-input [(ngModel)]=\\\"password\\\" type=\\\"password\\\" class=\\\"regPassword\\\" placeholder=\\\"Please key in your password\\\"></ion-input>\\n            </ion-item>\\n        </ion-list>\\n        <ion-button  expand=\\\"block\\\" shape=\\\"round\\\" color=\\\"primary\\\" class=\\\"loginBtn\\\" (click)=\\\"loginUser()\\\">Login</ion-button>\\n    </ion-card-content>\\n\\n  <ion-card-content class=\\\"ion-padding\\\" text-align=\\\"ion-text-center\\\" id=\\\"staffLogin\\\">\\n      <ion-list>\\n          \\n          <ion-item>\\n              <ion-label position=\\\"floating\\\">Email</ion-label>\\n              <ion-input [(ngModel)]=\\\"email\\\" type=\\\"text\\\" class=\\\"regEmail\\\" placeholder=\\\"Please key in your email\\\"></ion-input>\\n          </ion-item>\\n          <ion-item>\\n              <ion-label position=\\\"floating\\\">Staff Number</ion-label>\\n              <ion-input [(ngModel)]=\\\"staffNum\\\" type=\\\"text\\\" class=\\\"regStaffNum\\\" placeholder=\\\"Please key in your Staff Number\\\"></ion-input>\\n          </ion-item>\\n          <ion-item>\\n              <ion-label position=\\\"floating\\\">Password</ion-label>\\n              <ion-input [(ngModel)]=\\\"password\\\" type=\\\"password\\\" class=\\\"regPassword\\\" placeholder=\\\"Please key in your password\\\"></ion-input>\\n          </ion-item>\\n          \\n      </ion-list>\\n      <ion-button  expand=\\\"block\\\" shape=\\\"round\\\" color=\\\"primary\\\" class=\\\"loginBtn\\\" (click)=\\\"loginStaff()\\\">Login</ion-button>\\n  </ion-card-content> \\n   \\n  <ion-card-content class=\\\"ion-padding\\\" text-align=\\\"ion-text-center\\\" id=\\\"vendorLogin\\\">\\n    <ion-list>\\n        \\n        <ion-item>\\n            <ion-label position=\\\"floating\\\">Email</ion-label>\\n            <ion-input [(ngModel)]=\\\"email\\\" type=\\\"text\\\" class=\\\"regEmail\\\" placeholder=\\\"Please key in your email\\\"></ion-input>\\n        </ion-item>\\n        <ion-item>\\n            <ion-label position=\\\"floating\\\">Vendor Number</ion-label>\\n            <ion-input [(ngModel)]=\\\"vendorNum\\\" type=\\\"text\\\" class=\\\"regVendorNum\\\" placeholder=\\\"Please key in your Vendor Number\\\"></ion-input>\\n        </ion-item>\\n        <ion-item>\\n            <ion-label position=\\\"floating\\\">Password</ion-label>\\n            <ion-input [(ngModel)]=\\\"password\\\" type=\\\"password\\\" class=\\\"regPassword\\\" placeholder=\\\"Please key in your password\\\"></ion-input>\\n        </ion-item>\\n        \\n    </ion-list>\\n    <ion-button  expand=\\\"block\\\" shape=\\\"round\\\" color=\\\"primary\\\" class=\\\"loginBtn\\\" (click)=\\\"loginVendor()\\\">Login</ion-button>\\n</ion-card-content> \\n \\n</ion-card>\\n<a [routerLink]=\\\"['/forgot']\\\"> Forgot password?</a> \\n<p>Dont have an account? click <a [routerLink]=\\\"['/register']\\\">here</a> to register!</p>\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}